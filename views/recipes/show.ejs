<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>
    <%= recipe.name %>
  </title>
</head>

<body>
  <%- include('../partials/_navbar.ejs') %>
    <h1>
      <%= recipe.name %>
    </h1>
    <p>
      <%= recipe.instructions %>
    </p>

    <!-- Ingredients List -->
    <h2>Ingredients</h2>
    <% if (recipe.ingredients && recipe.ingredients.length> 0) { %>
      <ul>
        <% recipe.ingredients.forEach(ingredient=> { %>
          <li>
            <%= ingredient.name %>
          </li>
          <% }); %>
      </ul>
      <% } else { %>
        <p>No ingredients listed.</p>
        <% } %>

  <!-- Link to Add Ingredients View -->
  <a href="/recipes/<%= recipe._id %>/add-ingredients">Add Ingredients</a>

  <!-- Edit and Delete options -->
  <a href="/recipes/<%= recipe._id %>/edit">Edit Recipe</a>
  <form action="/recipes/<%= recipe._id %>?_method=DELETE" method="POST" style="display: inline;">
    <input type="submit" value="Delete Recipe">
  </form>
</body>

</html>